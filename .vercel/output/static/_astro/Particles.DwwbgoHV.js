import{j as S}from"./jsx-runtime.D_zvdyIk.js";import{r as u}from"./index.Cd_vQiNd.js";function k({color:f="#a855f7",density:w=12e-5,speed:m=.4,size:p=[1,2]}){const y=u.useRef(null),c=u.useRef(null);return u.useEffect(()=>{const o=y.current;if(!o)return;const e=o.getContext("2d");let l=Math.min(window.devicePixelRatio||1,2),n=window.innerWidth,i=window.innerHeight;const x=()=>{n=window.innerWidth,i=window.innerHeight,l=Math.min(window.devicePixelRatio||1,2),o.width=Math.floor(n*l),o.height=Math.floor(i*l),o.style.width=`${n}px`,o.style.height=`${i}px`,e.setTransform(l,0,0,l,0,0)};x();const b=window.matchMedia("(prefers-reduced-motion: reduce)").matches?0:Math.max(20,Math.floor(n*i*w)),A=(s,a,t)=>Math.max(a,Math.min(t,s)),[g,P]=p,r=new Array(b).fill(0).map(()=>({x:Math.random()*n,y:Math.random()*i,vx:(Math.random()*2-1)*m,vy:(Math.random()*2-1)*m,r:A(g+Math.random()*(P-g),.5,3.5),o:.4+Math.random()*.6})),M=()=>{e.clearRect(0,0,n,i);const s=e.createRadialGradient(n/2,i/2,0,n/2,i/2,Math.max(n,i));s.addColorStop(0,"rgba(168, 85, 247, 0.03)"),s.addColorStop(1,"rgba(14, 14, 16, 0)"),e.fillStyle=s,e.fillRect(0,0,n,i),e.fillStyle=f;for(let a=0;a<r.length;a++){const t=r[a];t.x+=t.vx,t.y+=t.vy,t.x<-10&&(t.x=n+10),t.x>n+10&&(t.x=-10),t.y<-10&&(t.y=i+10),t.y>i+10&&(t.y=-10),e.globalAlpha=t.o,e.beginPath(),e.arc(t.x,t.y,t.r,0,Math.PI*2),e.fill()}e.globalAlpha=.08,e.strokeStyle=f;for(let a=0;a<r.length;a++)for(let t=a+1;t<r.length;t++){const d=r[a],h=r[t],v=d.x-h.x,R=d.y-h.y;v*v+R*R<19600&&(e.lineWidth=1,e.beginPath(),e.moveTo(d.x,d.y),e.lineTo(h.x,h.y),e.stroke())}e.globalAlpha=1,c.current=requestAnimationFrame(M)};return c.current=requestAnimationFrame(M),window.addEventListener("resize",x),()=>{c.current&&cancelAnimationFrame(c.current),window.removeEventListener("resize",x)}},[f,w,m,p]),S.jsx("canvas",{ref:y,className:"floating-background",style:{position:"fixed",inset:0,zIndex:0,pointerEvents:"none"},"aria-hidden":"true"})}export{k as default};
